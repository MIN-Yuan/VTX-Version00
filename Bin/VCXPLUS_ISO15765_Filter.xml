<?xml version="1.0" encoding="utf-8" ?>
<CONTENT>

	<CONFIG>
		//自定义标题,将显示在程序的标题栏上
		<TITLE>VCXPLUS ISO15765</TITLE>
		<LOGFILE>log.txt</LOGFILE>			//自定义Log文件名,记录通讯全程
		<LOGENABLE>0</LOGENABLE>			//是否开启日志文件记录
		<FILTERSELFSENT>0</FILTERSELFSENT>	//过滤掉自发自收

		//初始化程序性能
		<THREADPRIORITY>0</THREADPRIORITY>	//线程优先级
		<SLEEP>1</SLEEP>
		<WATCHLIST>1</WATCHLIST>			//是否开启List显示

		//串口参数设置
		<PORT>COM4:</PORT>
		<SPEED>921600</SPEED>
		<PARITY>0</PARITY>
			//NOPARITY			0
			//ODDPARITY			1
			//EVENPARITY		2
			//MARKPARITY		3
			//SPACEPARITY		4
		<BITS>8</BITS>
		<STOPBITS>0</STOPBITS>
			//ONESTOPBIT		0
			//ONE5STOPBITS		1
			//TWOSTOPBITS		2

		//帧参数设置
		<FRAMETYPE>3</FRAMETYPE>			//为0时,可用旁路模式模拟,通过帧隔时间来区分帧; 为1时,非旁路,A5A5长度XXXX校验和取反格式(KT600格式)
		<MINFRAMESPACE>10</MINFRAMESPACE>	//当FRAMETYPE为0时生效,毫秒数
		<DELAYREALTIME>1</DELAYREALTIME>	//上面的延时是否采用实时延时, 建议用0
		<SENDDELAY>0</SENDDELAY>
		<RECEIVEDELAY>0</RECEIVEDELAY>

		//初始化替换校验字区
		<CHECKENABLE>0</CHECKENABLE>		//开启替换校验字
		<CHECKTYPE>1</CHECKTYPE>			//校验类型
		<CHECKBEGIN>5</CHECKBEGIN>			//校验的起始字节
		<CHECKEND>-3</CHECKEND>				//校验的结束字节
		<CHECKTARGET>-2</CHECKTARGET>		//校验结果放在哪一个字节.
		<CHECKSYMBOL>1</CHECKSYMBOL>		//校验标志数

		//初始化定时发送区
		<AUTOREPLYENABLE>0</AUTOREPLYENABLE>	//0为关闭, 1为定时回应指定条目, 2为定时回应临时数据
		<AUTOREPLYSPACE>1</AUTOREPLYSPACE>//将间隔设置1小时,并定时发送临时数据,用以初始化采样板
		<AUTOREPLYID>0</AUTOREPLYID>			//定时回应COMM中的条目号

		//初始化临时数据区
		// bb 80 2f f2 ff e5 bb // GET_INFO
		<MANUALDATA>80 00 80 00 55 55 55 55</MANUALDATA>	//指定临时发送框中的数据
		<REPLYBYMANUAL>0</REPLYBYMANUAL>		//是否用临时数据回应不能识别的帧

	</CONFIG>
	<COMMS>

			
		<COMM>
			<RECEIVE>bb 80 00 * bb</RECEIVE>
			<TYPE>1</TYPE>
			
			<SEND>
				<REMARK>PCH_OPEN ISO15765 CAN</REMARK>
				<DATA>80 00  40  00  00 00 80 01</DATA>
				<DELAY>50</DELAY>
			</SEND>
			
			<SEND>	//
				<REMARK>PCH_GET_COMPARAM</REMARK>
				<DATA>80 00  46  00</DATA>
				<DELAY>50</DELAY>
			</SEND>
			
			<SEND >	//
				<REMARK>PCH_SET_COMPARAM</REMARK>
				<DATA>80 00  45  00  0003 0007a120  0100 00000000</DATA>
				<DELAY>50</DELAY>
			</SEND >
			<SEND >	// HSCAN 6_14
				<REMARK>PCH_SET_COMPARAM</REMARK>
				<DATA>80 00  45  00  0002 060E0000 0003 0007a120  0043 000003e8  0100 00000000  0104 01000000   </DATA>
				<DELAY>50</DELAY>
			</SEND >
			<SEND >	// PSCAN OBD3_11
				<REMARK>PCH_SET_COMPARAM</REMARK>
				<DATA>80 00  45  00  0002 030B0000 0003 0007a120  0043 000003e8  0100 00000001  0104 01000000   </DATA>
				<DELAY>50</DELAY>
			</SEND >
			<SEND>	// SWCAN OBD1
				<REMARK>PCH_SET_COMPARAM</REMARK>
				<DATA>80 00  45  00  0002 01000000 0003 00008232  0043 000003e8  0100 00000002  0104 00000000  </DATA>
				<DELAY>50</DELAY>
			</SEND>
			
			<SEND>	//
				<REMARK>PCH_SET_FILTER CLR</REMARK>
				<DATA>80 00  47  00  02  </DATA>
				<DELAY>50</DELAY>
			</SEND>
			<SEND>	//
				<REMARK>PCH_ADD_FILTER</REMARK>
				<DATA>80 00  48  00  02  00 02 01 04 000007E9 ffffffff 000007e1  3f 02 01 04 000007E8 ffffffff 000007e0  </DATA>
				<DELAY>50</DELAY>
			</SEND>
			<SEND>	//
				<REMARK>PCH_SET_FILTER ON</REMARK>
				<DATA>80 00  47  00  01  </DATA>
				<DELAY>50</DELAY>
			</SEND>
			<SEND>	//
				<REMARK>PCH_SET_TIMER</REMARK>
				<DATA>80 00  49  00  </DATA>
				<DELAY>50</DELAY>
			</SEND>
			<SEND>	//
				<REMARK>PCH_ADD_TIMER</REMARK>
				<DATA>80 00  4A  00  </DATA>
				<DELAY>50</DELAY>
			</SEND>
			<SEND>	//
				<REMARK>PCH_START</REMARK>
				<DATA>80 00  42  00  </DATA>
				<DELAY >50</DELAY >
			</SEND>
			
			<SEND >	//
				<REMARK>COMM_DATA</REMARK>
				<DATA>80 01  00  00  00000000 0000 000007df 09 02 </DATA>
				<DELAY>1000</DELAY>
			</SEND >
			<SEND >	//
				<REMARK>COMM_DATA</REMARK>
				<DATA>80 01  00  00  00001000 0004 000007E0 10 </DATA>
				<DELAY>50</DELAY>
			</SEND >
			<SEND>	//
				<REMARK>COMM_DATA</REMARK>
				<DATA>80 01  00  00  00000000 0006 000007E0 3E </DATA>
				<DELAY>50</DELAY>
			</SEND>
			
			
			
		</COMM>
		
			

	</COMMS>

</CONTENT>
